{"ast":null,"code":"import _toConsumableArray from\"/Users/joeyzhu/Projects/joey-j-zhu.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/joeyzhu/Projects/joey-j-zhu.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{interpolateTrig}from\"../../utils/functions\";import{Color,interpolateColor,THEME_GREEN_HEX,THEME_GRAY_6H,WHITE,themeTransientCycle}from\"../../utils/colors\";import{jsx as _jsx}from\"react/jsx-runtime\";var DynamicText=function DynamicText(_ref){var subtitle=_ref.subtitle,baseStyle=_ref.baseStyle;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),timer=_useState2[0],setTimer=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),buffer=_useState4[0],setBuffer=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),indexedSubtitle=_useState6[0],setIndexedSubtitle=_useState6[1];var baseColor=THEME_GRAY_6H;useEffect(function(){var interval=setInterval(function(){if(buffer==null){var emptyBuffer=[];for(var i=0;i<subtitle.length;i++){emptyBuffer.push(baseColor);}var newList=[];if(indexedSubtitle==null){for(var i=0;i<subtitle.length;i++){newList.push([subtitle.length-1-i,subtitle[i]]);}}setIndexedSubtitle(newList);setBuffer(emptyBuffer);}else{if(timer%2000<100){var t=timer/100.0;setBuffer([].concat(_toConsumableArray(buffer.slice(1)),[themeTransientCycle(baseColor,baseColor,t,interpolateTrig)]));}else{setBuffer([].concat(_toConsumableArray(buffer.slice(1)),[baseColor]));}}setTimer(timer+5);},10);return function(){return clearInterval(interval);};},[timer]);return/*#__PURE__*/_jsx(\"div\",{onMouseOver:function onMouseOver(){setTimer(0);},style:baseStyle,children:buffer==null||indexedSubtitle==null?\"\":indexedSubtitle.map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],character=_ref3[1];return/*#__PURE__*/_jsx(\"font\",{style:{color:interpolateColor(WHITE,buffer[key],0.5,interpolateTrig).getHex()},children:character},key);})});};export default DynamicText;","map":{"version":3,"names":["React","useState","useEffect","interpolateTrig","Color","interpolateColor","THEME_GREEN_HEX","THEME_GRAY_6H","WHITE","themeTransientCycle","DynamicText","subtitle","baseStyle","timer","setTimer","buffer","setBuffer","indexedSubtitle","setIndexedSubtitle","baseColor","interval","setInterval","emptyBuffer","i","length","push","newList","t","slice","clearInterval","map","key","character","color","getHex"],"sources":["/Users/joeyzhu/Projects/joey-j-zhu.github.io/src/components/fold/dynamic-text.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { interpolateTrig } from \"../../utils/functions\";\nimport { Color, interpolateColor, THEME_GREEN_HEX, THEME_GRAY_6H, WHITE, themeTransientCycle} from \"../../utils/colors\";\n\nconst DynamicText = ({\n    subtitle,\n    baseStyle,\n}) => {\n\n    const [timer, setTimer] = useState(0);\n    const [buffer, setBuffer] = useState(null);\n    const [indexedSubtitle, setIndexedSubtitle] = useState(null);\n    const baseColor = THEME_GRAY_6H;\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            if (buffer == null) {\n                var emptyBuffer = [];\n                for (var i = 0; i < subtitle.length; i++) {\n                    emptyBuffer.push(baseColor);\n                }\n                var newList = [];\n                if (indexedSubtitle == null) {\n                    for (var i = 0; i < subtitle.length; i++) {\n                        newList.push([subtitle.length - 1 - i, subtitle[i]]);\n                    }\n                }\n                setIndexedSubtitle(newList);\n                setBuffer(emptyBuffer);\n            } else {\n\n                if (timer % 2000 < 100) {\n                    var t = timer / 100.0;\n                    setBuffer([\n                        ...buffer.slice(1),\n                        themeTransientCycle(baseColor, baseColor, t, interpolateTrig)\n                    ]);\n                } else {\n                    setBuffer([\n                        ...buffer.slice(1),\n                        baseColor\n                    ]);\n                }    \n            }\n            setTimer(timer + 5);   \n        }, 10);\n        return () => clearInterval(interval);\n      }, [timer]);\n\n    return (\n        <div \n        onMouseOver={() => {setTimer(0)}}\n        style={baseStyle}>\n            {buffer == null || indexedSubtitle == null ? \"\" : \n                indexedSubtitle.map(\n                    ([key, character]) => {\n                        return(\n                        <font key={key}\n                        style={{color:interpolateColor(WHITE, buffer[key], 0.5, interpolateTrig).getHex()}}>\n                            {character}\n                        </font>);\n                    })   \n            }\n        </div>\n    );\n};\n\nexport default DynamicText;"],"mappings":"4QAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,eAAe,KAAQ,uBAAuB,CACvD,OAASC,KAAK,CAAEC,gBAAgB,CAAEC,eAAe,CAAEC,aAAa,CAAEC,KAAK,CAAEC,mBAAmB,KAAO,oBAAoB,CAAC,2CAExH,GAAMC,YAAW,CAAG,QAAdA,YAAW,MAGX,IAFFC,SAAQ,MAARA,QAAQ,CACRC,SAAS,MAATA,SAAS,CAGT,cAA0BX,QAAQ,CAAC,CAAC,CAAC,wCAA9BY,KAAK,eAAEC,QAAQ,eACtB,eAA4Bb,QAAQ,CAAC,IAAI,CAAC,yCAAnCc,MAAM,eAAEC,SAAS,eACxB,eAA8Cf,QAAQ,CAAC,IAAI,CAAC,yCAArDgB,eAAe,eAAEC,kBAAkB,eAC1C,GAAMC,UAAS,CAAGZ,aAAa,CAE/BL,SAAS,CAAC,UAAM,CACZ,GAAMkB,SAAQ,CAAGC,WAAW,CAAC,UAAM,CAC/B,GAAIN,MAAM,EAAI,IAAI,CAAE,CAChB,GAAIO,YAAW,CAAG,EAAE,CACpB,IAAK,GAAIC,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGZ,QAAQ,CAACa,MAAM,CAAED,CAAC,EAAE,CAAE,CACtCD,WAAW,CAACG,IAAI,CAACN,SAAS,CAAC,CAC/B,CACA,GAAIO,QAAO,CAAG,EAAE,CAChB,GAAIT,eAAe,EAAI,IAAI,CAAE,CACzB,IAAK,GAAIM,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGZ,QAAQ,CAACa,MAAM,CAAED,CAAC,EAAE,CAAE,CACtCG,OAAO,CAACD,IAAI,CAAC,CAACd,QAAQ,CAACa,MAAM,CAAG,CAAC,CAAGD,CAAC,CAAEZ,QAAQ,CAACY,CAAC,CAAC,CAAC,CAAC,CACxD,CACJ,CACAL,kBAAkB,CAACQ,OAAO,CAAC,CAC3BV,SAAS,CAACM,WAAW,CAAC,CAC1B,CAAC,IAAM,CAEH,GAAIT,KAAK,CAAG,IAAI,CAAG,GAAG,CAAE,CACpB,GAAIc,EAAC,CAAGd,KAAK,CAAG,KAAK,CACrBG,SAAS,8BACFD,MAAM,CAACa,KAAK,CAAC,CAAC,CAAC,GAClBnB,mBAAmB,CAACU,SAAS,CAAEA,SAAS,CAAEQ,CAAC,CAAExB,eAAe,CAAC,GAC/D,CACN,CAAC,IAAM,CACHa,SAAS,8BACFD,MAAM,CAACa,KAAK,CAAC,CAAC,CAAC,GAClBT,SAAS,GACX,CACN,CACJ,CACAL,QAAQ,CAACD,KAAK,CAAG,CAAC,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CACN,MAAO,kBAAMgB,cAAa,CAACT,QAAQ,CAAC,GACtC,CAAC,CAAE,CAACP,KAAK,CAAC,CAAC,CAEb,mBACI,YACA,WAAW,CAAE,sBAAM,CAACC,QAAQ,CAAC,CAAC,CAAC,EAAE,CACjC,KAAK,CAAEF,SAAU,UACZG,MAAM,EAAI,IAAI,EAAIE,eAAe,EAAI,IAAI,CAAG,EAAE,CAC3CA,eAAe,CAACa,GAAG,CACf,eAAsB,mCAApBC,GAAG,UAAEC,SAAS,UACZ,mBACA,aACA,KAAK,CAAE,CAACC,KAAK,CAAC5B,gBAAgB,CAACG,KAAK,CAAEO,MAAM,CAACgB,GAAG,CAAC,CAAE,GAAG,CAAE5B,eAAe,CAAC,CAAC+B,MAAM,EAAE,CAAE,UAC9EF,SAAS,EAFHD,GAAG,CAGP,CACX,CAAC,CAAC,EAER,CAEd,CAAC,CAED,cAAerB,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}