{"ast":null,"code":"import { X, Y, G0, G1 } from './graphic-utils.js';\nimport { WHITE, THEME_GRAY_6B, interpolateColor, THEME_GRAY_4B, THEME_BLUE, THEME_MAGENTA, THEME_ORANGE } from '../../../utils/colors';\nimport { interpolateTrig } from '../../../utils/functions.js';\nimport { themeTransientCycle } from '../../../utils/colors';\n\n// The colors here are on unit scale to make calculations easier in lieu of importing utils/colors.js\nfunction componentToHex(c) {\n  var hex = c.toString(16);\n  return hex.length == 1 ? \"0\" + hex : hex;\n}\nfunction drawCircle(canvas, c, radius, color) {\n  canvas.beginPath();\n  canvas.arc(c[X], c[Y], radius, 0, 2 * Math.PI);\n  canvas.fillStyle = color;\n  canvas.fill();\n}\nfunction project(x, y, z, t) {\n  var period = 1 / 100;\n  var newX = x * Math.cos(t * period) + z * Math.sin(t * period);\n  var newY = y;\n  var newZ = x * -Math.sin(t * period) + z * Math.cos(t * period);\n  var parallax = 0.02;\n  var centerX = 0;\n  var centerY = 0;\n  newX += (newX - centerX) * newZ * parallax;\n  newY += (newY - centerY) * newZ * parallax;\n  var scale = 150;\n  return [(newX + 1) * scale + 600, (newY + 1) * scale + 200];\n}\nconst AtomGraphics = _ref => {\n  let {\n    atom\n  } = _ref;\n  //atom.particles.sort((p1, p2) => p1.z > p2.z ? 1 : (p1.z < p2.z ? -1 : 0));\n  function render(canvas) {\n    atom.particles.sort((particleA, particleB) => particleA.z > particleB.z ? 1 : particleA.z < particleB.z ? -1 : 0);\n    for (var i = 0; i < atom.particles.length; i++) {\n      canvas.globalAlpha = 0.25;\n      var p = atom.particles[i];\n      var period = 1 / 100;\n      var newZ = p.x * -Math.sin(atom.timer * period) + p.z * Math.cos(atom.timer * period);\n      var dxnColor = p.color;\n      var color = interpolateColor(THEME_GRAY_6B, dxnColor, Math.max(0, Math.min(2, (2 + newZ) / 2.0)), interpolateTrig);\n      var point = project(p.x, p.y, p.z, atom.timer);\n      drawCircle(canvas, [point[0], point[1]], Math.max(1, Math.min(2, 2 + newZ)), color.getHex(), atom.timer);\n    }\n  }\n  var canv = document.getElementById(\"fold-graphics\");\n  var ctx = canv != null ? canv.getContext('2d') : null;\n  if (ctx != null && atom != undefined) {\n    ctx.clearRect(G0[X], G0[Y], G1[X], G1[Y]);\n    render(ctx);\n  }\n};\n_c = AtomGraphics;\nexport default AtomGraphics;\nvar _c;\n$RefreshReg$(_c, \"AtomGraphics\");","map":{"version":3,"names":["X","Y","G0","G1","WHITE","THEME_GRAY_6B","interpolateColor","THEME_GRAY_4B","THEME_BLUE","THEME_MAGENTA","THEME_ORANGE","interpolateTrig","themeTransientCycle","componentToHex","c","hex","toString","length","drawCircle","canvas","radius","color","beginPath","arc","Math","PI","fillStyle","fill","project","x","y","z","t","period","newX","cos","sin","newY","newZ","parallax","centerX","centerY","scale","AtomGraphics","atom","render","particles","sort","particleA","particleB","i","globalAlpha","p","timer","dxnColor","max","min","point","getHex","canv","document","getElementById","ctx","getContext","undefined","clearRect"],"sources":["/Users/joeyzhu/Projects/joey-j-zhu.github.io/src/components/fold/fold-graphics/atom-graphics.js"],"sourcesContent":["\nimport {X, Y, G0, G1 } from './graphic-utils.js';\nimport { WHITE, THEME_GRAY_6B, interpolateColor, THEME_GRAY_4B, THEME_BLUE, THEME_MAGENTA, THEME_ORANGE } from '../../../utils/colors';\nimport { interpolateTrig } from '../../../utils/functions.js';\nimport { themeTransientCycle } from '../../../utils/colors';\n\n// The colors here are on unit scale to make calculations easier in lieu of importing utils/colors.js\nfunction componentToHex(c) {\n    var hex = c.toString(16);\n    return hex.length == 1 ? \"0\" + hex : hex;\n}\n\nfunction drawCircle(canvas, c, radius, color) {\n    canvas.beginPath();\n    canvas.arc(c[X], c[Y], radius, 0 , 2 * Math.PI);\n    canvas.fillStyle = color;\n    canvas.fill();\n}\n\nfunction project(x, y, z, t) {\n    var period = 1 / 100;\n    var newX = x * Math.cos(t * period) + z * Math.sin(t * period);\n    var newY = y;\n    var newZ = x * -Math.sin(t * period) + z * Math.cos(t * period);\n    var parallax = 0.02;\n    var centerX = 0;\n    var centerY = 0;\n    newX += (newX - centerX) * newZ * parallax;\n    newY += (newY - centerY) * newZ * parallax;\n\n    var scale = 150;\n    return [(newX + 1) * scale + 600, (newY + 1) * scale + 200];\n}\n\nconst AtomGraphics = ({\n    atom,\n}) => {\n    //atom.particles.sort((p1, p2) => p1.z > p2.z ? 1 : (p1.z < p2.z ? -1 : 0));\n    function render(canvas) {\n        atom.particles.sort((particleA, particleB) => particleA.z > particleB.z ? 1 : (particleA.z < particleB.z ? -1 : 0));\n        for (var i = 0; i < atom.particles.length; i++) {\n            canvas.globalAlpha = 0.25;\n            var p = atom.particles[i];\n            var period = 1 / 100;\n            var newZ = p.x * -Math.sin(atom.timer * period) + p.z * Math.cos(atom.timer * period);\n            var dxnColor = p.color;\n            var color = interpolateColor(THEME_GRAY_6B, dxnColor, Math.max(0, Math.min(2, (2 + newZ) / 2.0)), interpolateTrig);\n            var point = project(p.x, p.y, p.z, atom.timer);\n            drawCircle(canvas, [point[0], point[1]], Math.max(1, Math.min(2, (2 + newZ))), color.getHex(), atom.timer);\n        }\n    }\n\n    var canv = document.getElementById(\"fold-graphics\");\n    var ctx = canv != null ? canv.getContext('2d') : null;\n\n    if (ctx != null && atom != undefined) {\n        ctx.clearRect(G0[X], G0[Y], G1[X], G1[Y]);\n        render(ctx);\n    }\n};\n\nexport default AtomGraphics;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}