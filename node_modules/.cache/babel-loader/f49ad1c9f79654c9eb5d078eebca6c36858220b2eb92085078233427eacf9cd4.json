{"ast":null,"code":"var _jsxFileName = \"/Users/joeyzhu/Projects/joey-j-zhu.github.io/src/components/fold/dynamic-text.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { interpolateTrig } from \"../../utils/functions\";\nimport { Color, interpolateColor, THEME_GREEN_HEX, THEME_GRAY_6H, WHITE, themeTransientCycle } from \"../../utils/colors\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DynamicText = _ref => {\n  _s();\n  let {\n    subtitle,\n    baseStyle\n  } = _ref;\n  const [timer, setTimer] = useState(0);\n  const [buffer, setBuffer] = useState(null);\n  const [indexedSubtitle, setIndexedSubtitle] = useState(null);\n  const baseColor = THEME_GRAY_6H;\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (buffer == null) {\n        var emptyBuffer = [];\n        for (var i = 0; i < subtitle.length; i++) {\n          emptyBuffer.push(baseColor);\n        }\n        var newList = [];\n        if (indexedSubtitle == null) {\n          for (var i = 0; i < subtitle.length; i++) {\n            newList.push([subtitle.length - 1 - i, subtitle[i]]);\n          }\n        }\n        setIndexedSubtitle(newList);\n        setBuffer(emptyBuffer);\n      } else {\n        if (timer % 2000 < 100) {\n          var t = timer / 100.0;\n          setBuffer([...buffer.slice(1), themeTransientCycle(baseColor, baseColor, t, interpolateTrig)]);\n        } else {\n          setBuffer([...buffer.slice(1), baseColor]);\n        }\n      }\n      setTimer(timer + 5);\n    }, 10);\n    return () => clearInterval(interval);\n  }, [timer]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onMouseOver: () => {\n      setTimer(0);\n    },\n    style: baseStyle,\n    children: buffer == null || indexedSubtitle == null ? \"\" : indexedSubtitle.map(_ref2 => {\n      let [key, character] = _ref2;\n      return /*#__PURE__*/_jsxDEV(\"font\", {\n        style: {\n          color: interpolateColor(WHITE, buffer[key], 0.5, interpolateTrig).getHex()\n        },\n        children: character\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(DynamicText, \"ZV8QjDkF7XDPPQE10uuA+sN6wUg=\");\n_c = DynamicText;\nexport default DynamicText;\nvar _c;\n$RefreshReg$(_c, \"DynamicText\");","map":{"version":3,"names":["React","useState","useEffect","interpolateTrig","Color","interpolateColor","THEME_GREEN_HEX","THEME_GRAY_6H","WHITE","themeTransientCycle","DynamicText","subtitle","baseStyle","timer","setTimer","buffer","setBuffer","indexedSubtitle","setIndexedSubtitle","baseColor","interval","setInterval","emptyBuffer","i","length","push","newList","t","slice","clearInterval","map","key","character","color","getHex"],"sources":["/Users/joeyzhu/Projects/joey-j-zhu.github.io/src/components/fold/dynamic-text.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { interpolateTrig } from \"../../utils/functions\";\nimport { Color, interpolateColor, THEME_GREEN_HEX, THEME_GRAY_6H, WHITE, themeTransientCycle} from \"../../utils/colors\";\n\nconst DynamicText = ({\n    subtitle,\n    baseStyle,\n}) => {\n\n    const [timer, setTimer] = useState(0);\n    const [buffer, setBuffer] = useState(null);\n    const [indexedSubtitle, setIndexedSubtitle] = useState(null);\n    const baseColor = THEME_GRAY_6H;\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            if (buffer == null) {\n                var emptyBuffer = [];\n                for (var i = 0; i < subtitle.length; i++) {\n                    emptyBuffer.push(baseColor);\n                }\n                var newList = [];\n                if (indexedSubtitle == null) {\n                    for (var i = 0; i < subtitle.length; i++) {\n                        newList.push([subtitle.length - 1 - i, subtitle[i]]);\n                    }\n                }\n                setIndexedSubtitle(newList);\n                setBuffer(emptyBuffer);\n            } else {\n\n                if (timer % 2000 < 100) {\n                    var t = timer / 100.0;\n                    setBuffer([\n                        ...buffer.slice(1),\n                        themeTransientCycle(baseColor, baseColor, t, interpolateTrig)\n                    ]);\n                } else {\n                    setBuffer([\n                        ...buffer.slice(1),\n                        baseColor\n                    ]);\n                }    \n            }\n            setTimer(timer + 5);   \n        }, 10);\n        return () => clearInterval(interval);\n      }, [timer]);\n\n    return (\n        <div \n        onMouseOver={() => {setTimer(0)}}\n        style={baseStyle}>\n            {buffer == null || indexedSubtitle == null ? \"\" : \n                indexedSubtitle.map(\n                    ([key, character]) => {\n                        return(\n                        <font key={key}\n                        style={{color:interpolateColor(WHITE, buffer[key], 0.5, interpolateTrig).getHex()}}>\n                            {character}\n                        </font>);\n                    })   \n            }\n        </div>\n    );\n};\n\nexport default DynamicText;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}