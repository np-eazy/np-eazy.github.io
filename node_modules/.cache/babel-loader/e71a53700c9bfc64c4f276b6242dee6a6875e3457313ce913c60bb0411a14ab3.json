{"ast":null,"code":"import { complex, conjugate, sqrt, exp, atan, sin, cos, acos, pow, add, subtract, multiply, divide } from 'mathjs';\nexport function interpolateTrig(a, b, t) {\n  let tsin = 1 - Math.cos(Math.PI * t / 2.0);\n  return a + tsin * (b - a);\n}\nexport function interpolate(a, b, fraction) {\n  return a + fraction * (b - a);\n}\nexport function randint(a, b) {\n  return a + Math.floor(Math.random() * (b - a));\n}\nexport function randRange(a, b) {\n  return a + Math.random() * (b - a);\n}\n\n// Flip a coin weighted p for True\nexport function coinFlip(p) {\n  return Math.random() < p;\n}\nexport function stoc(n) {\n  var fn = Math.floor(n);\n  var d = coinFlip(n - fn);\n  if (d == true) {\n    return fn + 1;\n  } else {\n    return fn;\n  }\n}\nvar runningFactorial = [];\nvar factorial = 1;\nfor (var i = 0; i < 10; i++) {\n  factorial *= i + 1;\n  runningFactorial.push(factorial);\n}\nexport function getFactorial(n) {\n  if (n <= 0) {\n    return 1;\n  } else if (n > 10) {\n    return runningFactorial[n - 1];\n  } else {\n    var soln = 1;\n    for (var i = 0; i < n; i++) {\n      soln *= i + 1;\n    }\n    return soln;\n  }\n}\nexport function getDoubleFactorial(n) {\n  if (n <= 0) {\n    return 1;\n  } else {\n    var soln = 1;\n    for (var i = 0; i < n; i++) {\n      if (i + 1 % 2 == n % 2) {\n        soln *= i + 1;\n      }\n    }\n    return soln;\n  }\n}\nexport function choose(n, k) {\n  return getFactorial(n) / (getFactorial(n - k) * getFactorial(k));\n}\nexport function mapToSpherical(x, y, z) {\n  var rho = sqrt(x * x + y * y + z * z);\n  var theta = atan(y / x);\n  var phi = acos(z / rho);\n  return [rho, theta, phi];\n}\nexport function getNormalization(n, l) {\n  var constTerm = sqrt(pow(2 / (n * A0), 3) * getFactorial(n - l - 1) / (2 * n * getFactorial(n + l)));\n  var radius = rho => 2 * rho / (n * A0);\n  return rho => constTerm * exp(radius(rho) / -2) * pow(radius(rho), l);\n}\nexport function getLaguerrePolynomial(n, l) {\n  var kl = 2 * l + 1;\n  var nl = n - l - 1;\n  return rho => {\n    var signedPower = 1;\n    var total = 0;\n    for (var i = 0; i <= n; i++) {\n      total += signedPower * getFactorial(nl + kl) / (getFactorial(nl - i) * getFactorial(kl + i) * getFactorial(i));\n      signedPower *= -rho;\n    }\n    var constTerm = sqrt(pow(2 / (n * A0), 3) * getFactorial(n - l - 1) / (2 * n * getFactorial(n + l)));\n    var radius = 2 * rho / (n * A0);\n    return total * constTerm * exp(radius / -2) * pow(radius, l);\n  };\n}\nexport function getLegendrePolynomial(l, m) {\n  var sign = m % 2 == 0 ? 1 : -1;\n  return rho => {\n    var base = sign * getDoubleFactorial(2 * m - 1) * pow(1 - rho * rho, m / 2);\n    var nextBase = (2 * m + 1) * rho * base;\n    if (l - m == 0) {\n      return base;\n    } else if (l - m == 1) {\n      return nextBase;\n    } else if (l - m >= 2) {\n      var temp = m;\n      for (var i = 0; i < l - m - 1; i++) {\n        var nextPolynomial = ((2 * l + 1) * nextBase - (l + m) * base) / (l - m + 1);\n        base = nextBase;\n        nextBase = nextPolynomial;\n      }\n      return nextPolynomial;\n    }\n  };\n}\nexport function getSphericalHarmonic(l, m) {\n  var sign = complex(m % 2 == 0 ? 1 : -1, 0);\n  var normalization = complex(sqrt(getFactorial(l - m) * (2 * l + 1) / (getFactorial(l + m) * 4 * Math.PI)), 0);\n  var complexTerm = phi => exp(complex(0, m * phi));\n  return phi => multiply(sign, normalization, complexTerm(phi));\n}","map":{"version":3,"names":["complex","conjugate","sqrt","exp","atan","sin","cos","acos","pow","add","subtract","multiply","divide","interpolateTrig","a","b","t","tsin","Math","PI","interpolate","fraction","randint","floor","random","randRange","coinFlip","p","stoc","n","fn","d","runningFactorial","factorial","i","push","getFactorial","soln","getDoubleFactorial","choose","k","mapToSpherical","x","y","z","rho","theta","phi","getNormalization","l","constTerm","A0","radius","getLaguerrePolynomial","kl","nl","signedPower","total","getLegendrePolynomial","m","sign","base","nextBase","temp","nextPolynomial","getSphericalHarmonic","normalization","complexTerm"],"sources":["/Users/joeyzhu/Projects/joey-j-zhu.github.io/src/utils/functions.js"],"sourcesContent":["import { complex, conjugate, sqrt, exp, atan, sin, cos, acos, pow, add, subtract, multiply, divide } from 'mathjs';\n\n\nexport function interpolateTrig(a, b, t) {\n    let tsin = 1 - Math.cos(Math.PI * t / 2.0);\n    return a + tsin * (b - a);\n}\n\nexport function interpolate(a, b, fraction) {\n    return a + fraction * (b - a);\n}\n\nexport function randint(a, b) {\n    return (a + Math.floor(Math.random() * (b - a)));\n}\n\nexport function randRange(a, b) {\n    return (a + Math.random() * (b - a));\n}\n\n// Flip a coin weighted p for True\nexport function coinFlip(p) {\n    return (Math.random() < p);\n}\n\nexport function stoc(n) {\n    var fn = Math.floor(n);\n    var d = coinFlip(n - fn);\n    if (d == true) {\n        return fn + 1;\n    } else {\n        return fn;\n    }\n}\n\nvar runningFactorial = [];\nvar factorial = 1;\nfor (var i = 0; i < 10; i++) {\n    factorial *= i + 1;\n    runningFactorial.push(factorial);\n}\n\nexport function getFactorial(n) {\n    if (n <= 0) {\n        return 1;\n    } else if (n > 10) {\n        return runningFactorial[n - 1];\n    } else {\n        var soln = 1;\n        for (var i = 0; i < n; i++) {\n            soln *= i + 1;\n        }\n        return soln;\n    }\n}\n\nexport function getDoubleFactorial(n) {\n    if (n <= 0) {\n        return 1;\n    } else {\n        var soln = 1;\n        for (var i = 0; i < n; i++) {\n            if (i + 1 % 2 == n % 2) {\n                soln *= i + 1;\n            }\n        }\n        return soln;\n    }\n}\n\nexport function choose(n, k) {\n    return getFactorial(n) / (getFactorial(n - k) * getFactorial(k));\n}\n\nexport function mapToSpherical(x, y, z) {\n    var rho = sqrt(x * x + y * y + z * z);\n    var theta = atan(y / x);\n    var phi = acos(z / rho);\n    return [rho, theta, phi];\n}\n\nexport function getNormalization(n, l) {\n    var constTerm = sqrt(pow(2 / (n * A0), 3) * getFactorial(n - l - 1) / (2 * n * getFactorial(n + l)));\n    var radius = (rho) => (2 * rho) / (n * A0);\n    return (rho) => constTerm * exp(radius(rho) / -2) * pow(radius(rho), l);\n}\n\n\nexport function getLaguerrePolynomial(n, l) {\n    var kl = 2 * l + 1;\n    var nl = n - l - 1;\n\n    return (rho) => {\n        var signedPower = 1;\n        var total = 0;\n        for (var i = 0; i <= n; i++) {\n            total += signedPower * getFactorial(nl + kl) / (getFactorial(nl - i) * getFactorial(kl + i) * getFactorial(i));\n            signedPower *= -rho;\n        }\n        var constTerm = sqrt(pow(2 / (n * A0), 3) * getFactorial(n - l - 1) / (2 * n * getFactorial(n + l)));\n        var radius = (2 * rho) / (n * A0);\n        return total * constTerm * exp(radius / -2) * pow(radius, l);\n    }\n}\n\nexport function getLegendrePolynomial(l, m) {\n    var sign = m % 2 == 0 ? 1 : -1;\n    return (rho) => {\n        var base = sign * getDoubleFactorial(2 * m - 1) * pow(1 - rho * rho, m / 2);\n        var nextBase = (2 * m + 1) * rho * base;\n        if (l - m == 0) {\n            return base;\n        } else if (l - m == 1) {\n            return nextBase;\n        } else if (l - m >= 2) {\n            var temp = m;\n            for (var i = 0; i < l - m - 1; i++) {\n                var nextPolynomial = ((2 * l + 1) * nextBase - (l + m) * base) / (l - m + 1);\n                base = nextBase;\n                nextBase = nextPolynomial;\n            }\n            return nextPolynomial;\n        }\n    }\n}\n\nexport function getSphericalHarmonic(l, m) {\n    var sign = complex(m % 2 == 0 ? 1 : -1, 0);\n    var normalization = complex(sqrt((getFactorial(l - m) * (2 * l + 1)) / (getFactorial(l + m) * 4 * Math.PI)), 0);\n    var complexTerm = (phi) => exp(complex(0, m * phi));\n\n    return (phi) => multiply(sign, normalization, complexTerm(phi));\n}"],"mappings":"AAAA,SAASA,OAAO,EAAEC,SAAS,EAAEC,IAAI,EAAEC,GAAG,EAAEC,IAAI,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,GAAG,EAAEC,GAAG,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,QAAQ;AAGlH,OAAO,SAASC,eAAe,CAACC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACrC,IAAIC,IAAI,GAAG,CAAC,GAAGC,IAAI,CAACZ,GAAG,CAACY,IAAI,CAACC,EAAE,GAAGH,CAAC,GAAG,GAAG,CAAC;EAC1C,OAAOF,CAAC,GAAGG,IAAI,IAAIF,CAAC,GAAGD,CAAC,CAAC;AAC7B;AAEA,OAAO,SAASM,WAAW,CAACN,CAAC,EAAEC,CAAC,EAAEM,QAAQ,EAAE;EACxC,OAAOP,CAAC,GAAGO,QAAQ,IAAIN,CAAC,GAAGD,CAAC,CAAC;AACjC;AAEA,OAAO,SAASQ,OAAO,CAACR,CAAC,EAAEC,CAAC,EAAE;EAC1B,OAAQD,CAAC,GAAGI,IAAI,CAACK,KAAK,CAACL,IAAI,CAACM,MAAM,EAAE,IAAIT,CAAC,GAAGD,CAAC,CAAC,CAAC;AACnD;AAEA,OAAO,SAASW,SAAS,CAACX,CAAC,EAAEC,CAAC,EAAE;EAC5B,OAAQD,CAAC,GAAGI,IAAI,CAACM,MAAM,EAAE,IAAIT,CAAC,GAAGD,CAAC,CAAC;AACvC;;AAEA;AACA,OAAO,SAASY,QAAQ,CAACC,CAAC,EAAE;EACxB,OAAQT,IAAI,CAACM,MAAM,EAAE,GAAGG,CAAC;AAC7B;AAEA,OAAO,SAASC,IAAI,CAACC,CAAC,EAAE;EACpB,IAAIC,EAAE,GAAGZ,IAAI,CAACK,KAAK,CAACM,CAAC,CAAC;EACtB,IAAIE,CAAC,GAAGL,QAAQ,CAACG,CAAC,GAAGC,EAAE,CAAC;EACxB,IAAIC,CAAC,IAAI,IAAI,EAAE;IACX,OAAOD,EAAE,GAAG,CAAC;EACjB,CAAC,MAAM;IACH,OAAOA,EAAE;EACb;AACJ;AAEA,IAAIE,gBAAgB,GAAG,EAAE;AACzB,IAAIC,SAAS,GAAG,CAAC;AACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,EAAE,EAAE;EACzBD,SAAS,IAAIC,CAAC,GAAG,CAAC;EAClBF,gBAAgB,CAACG,IAAI,CAACF,SAAS,CAAC;AACpC;AAEA,OAAO,SAASG,YAAY,CAACP,CAAC,EAAE;EAC5B,IAAIA,CAAC,IAAI,CAAC,EAAE;IACR,OAAO,CAAC;EACZ,CAAC,MAAM,IAAIA,CAAC,GAAG,EAAE,EAAE;IACf,OAAOG,gBAAgB,CAACH,CAAC,GAAG,CAAC,CAAC;EAClC,CAAC,MAAM;IACH,IAAIQ,IAAI,GAAG,CAAC;IACZ,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,CAAC,EAAEK,CAAC,EAAE,EAAE;MACxBG,IAAI,IAAIH,CAAC,GAAG,CAAC;IACjB;IACA,OAAOG,IAAI;EACf;AACJ;AAEA,OAAO,SAASC,kBAAkB,CAACT,CAAC,EAAE;EAClC,IAAIA,CAAC,IAAI,CAAC,EAAE;IACR,OAAO,CAAC;EACZ,CAAC,MAAM;IACH,IAAIQ,IAAI,GAAG,CAAC;IACZ,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,CAAC,EAAEK,CAAC,EAAE,EAAE;MACxB,IAAIA,CAAC,GAAG,CAAC,GAAG,CAAC,IAAIL,CAAC,GAAG,CAAC,EAAE;QACpBQ,IAAI,IAAIH,CAAC,GAAG,CAAC;MACjB;IACJ;IACA,OAAOG,IAAI;EACf;AACJ;AAEA,OAAO,SAASE,MAAM,CAACV,CAAC,EAAEW,CAAC,EAAE;EACzB,OAAOJ,YAAY,CAACP,CAAC,CAAC,IAAIO,YAAY,CAACP,CAAC,GAAGW,CAAC,CAAC,GAAGJ,YAAY,CAACI,CAAC,CAAC,CAAC;AACpE;AAEA,OAAO,SAASC,cAAc,CAACC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACpC,IAAIC,GAAG,GAAG3C,IAAI,CAACwC,CAAC,GAAGA,CAAC,GAAGC,CAAC,GAAGA,CAAC,GAAGC,CAAC,GAAGA,CAAC,CAAC;EACrC,IAAIE,KAAK,GAAG1C,IAAI,CAACuC,CAAC,GAAGD,CAAC,CAAC;EACvB,IAAIK,GAAG,GAAGxC,IAAI,CAACqC,CAAC,GAAGC,GAAG,CAAC;EACvB,OAAO,CAACA,GAAG,EAAEC,KAAK,EAAEC,GAAG,CAAC;AAC5B;AAEA,OAAO,SAASC,gBAAgB,CAACnB,CAAC,EAAEoB,CAAC,EAAE;EACnC,IAAIC,SAAS,GAAGhD,IAAI,CAACM,GAAG,CAAC,CAAC,IAAIqB,CAAC,GAAGsB,EAAE,CAAC,EAAE,CAAC,CAAC,GAAGf,YAAY,CAACP,CAAC,GAAGoB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAGpB,CAAC,GAAGO,YAAY,CAACP,CAAC,GAAGoB,CAAC,CAAC,CAAC,CAAC;EACpG,IAAIG,MAAM,GAAIP,GAAG,IAAM,CAAC,GAAGA,GAAG,IAAKhB,CAAC,GAAGsB,EAAE,CAAC;EAC1C,OAAQN,GAAG,IAAKK,SAAS,GAAG/C,GAAG,CAACiD,MAAM,CAACP,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAGrC,GAAG,CAAC4C,MAAM,CAACP,GAAG,CAAC,EAAEI,CAAC,CAAC;AAC3E;AAGA,OAAO,SAASI,qBAAqB,CAACxB,CAAC,EAAEoB,CAAC,EAAE;EACxC,IAAIK,EAAE,GAAG,CAAC,GAAGL,CAAC,GAAG,CAAC;EAClB,IAAIM,EAAE,GAAG1B,CAAC,GAAGoB,CAAC,GAAG,CAAC;EAElB,OAAQJ,GAAG,IAAK;IACZ,IAAIW,WAAW,GAAG,CAAC;IACnB,IAAIC,KAAK,GAAG,CAAC;IACb,KAAK,IAAIvB,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIL,CAAC,EAAEK,CAAC,EAAE,EAAE;MACzBuB,KAAK,IAAID,WAAW,GAAGpB,YAAY,CAACmB,EAAE,GAAGD,EAAE,CAAC,IAAIlB,YAAY,CAACmB,EAAE,GAAGrB,CAAC,CAAC,GAAGE,YAAY,CAACkB,EAAE,GAAGpB,CAAC,CAAC,GAAGE,YAAY,CAACF,CAAC,CAAC,CAAC;MAC9GsB,WAAW,IAAI,CAACX,GAAG;IACvB;IACA,IAAIK,SAAS,GAAGhD,IAAI,CAACM,GAAG,CAAC,CAAC,IAAIqB,CAAC,GAAGsB,EAAE,CAAC,EAAE,CAAC,CAAC,GAAGf,YAAY,CAACP,CAAC,GAAGoB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAGpB,CAAC,GAAGO,YAAY,CAACP,CAAC,GAAGoB,CAAC,CAAC,CAAC,CAAC;IACpG,IAAIG,MAAM,GAAI,CAAC,GAAGP,GAAG,IAAKhB,CAAC,GAAGsB,EAAE,CAAC;IACjC,OAAOM,KAAK,GAAGP,SAAS,GAAG/C,GAAG,CAACiD,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG5C,GAAG,CAAC4C,MAAM,EAAEH,CAAC,CAAC;EAChE,CAAC;AACL;AAEA,OAAO,SAASS,qBAAqB,CAACT,CAAC,EAAEU,CAAC,EAAE;EACxC,IAAIC,IAAI,GAAGD,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;EAC9B,OAAQd,GAAG,IAAK;IACZ,IAAIgB,IAAI,GAAGD,IAAI,GAAGtB,kBAAkB,CAAC,CAAC,GAAGqB,CAAC,GAAG,CAAC,CAAC,GAAGnD,GAAG,CAAC,CAAC,GAAGqC,GAAG,GAAGA,GAAG,EAAEc,CAAC,GAAG,CAAC,CAAC;IAC3E,IAAIG,QAAQ,GAAG,CAAC,CAAC,GAAGH,CAAC,GAAG,CAAC,IAAId,GAAG,GAAGgB,IAAI;IACvC,IAAIZ,CAAC,GAAGU,CAAC,IAAI,CAAC,EAAE;MACZ,OAAOE,IAAI;IACf,CAAC,MAAM,IAAIZ,CAAC,GAAGU,CAAC,IAAI,CAAC,EAAE;MACnB,OAAOG,QAAQ;IACnB,CAAC,MAAM,IAAIb,CAAC,GAAGU,CAAC,IAAI,CAAC,EAAE;MACnB,IAAII,IAAI,GAAGJ,CAAC;MACZ,KAAK,IAAIzB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGe,CAAC,GAAGU,CAAC,GAAG,CAAC,EAAEzB,CAAC,EAAE,EAAE;QAChC,IAAI8B,cAAc,GAAG,CAAC,CAAC,CAAC,GAAGf,CAAC,GAAG,CAAC,IAAIa,QAAQ,GAAG,CAACb,CAAC,GAAGU,CAAC,IAAIE,IAAI,KAAKZ,CAAC,GAAGU,CAAC,GAAG,CAAC,CAAC;QAC5EE,IAAI,GAAGC,QAAQ;QACfA,QAAQ,GAAGE,cAAc;MAC7B;MACA,OAAOA,cAAc;IACzB;EACJ,CAAC;AACL;AAEA,OAAO,SAASC,oBAAoB,CAAChB,CAAC,EAAEU,CAAC,EAAE;EACvC,IAAIC,IAAI,GAAG5D,OAAO,CAAC2D,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;EAC1C,IAAIO,aAAa,GAAGlE,OAAO,CAACE,IAAI,CAAEkC,YAAY,CAACa,CAAC,GAAGU,CAAC,CAAC,IAAI,CAAC,GAAGV,CAAC,GAAG,CAAC,CAAC,IAAKb,YAAY,CAACa,CAAC,GAAGU,CAAC,CAAC,GAAG,CAAC,GAAGzC,IAAI,CAACC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;EAC/G,IAAIgD,WAAW,GAAIpB,GAAG,IAAK5C,GAAG,CAACH,OAAO,CAAC,CAAC,EAAE2D,CAAC,GAAGZ,GAAG,CAAC,CAAC;EAEnD,OAAQA,GAAG,IAAKpC,QAAQ,CAACiD,IAAI,EAAEM,aAAa,EAAEC,WAAW,CAACpB,GAAG,CAAC,CAAC;AACnE"},"metadata":{},"sourceType":"module","externalDependencies":[]}